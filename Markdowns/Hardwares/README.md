# nRF5340基板の製作

最終更新日：2024/3/14

## 概要

Nordic社のSoC「nRF5340」を使用したBLEデバイスを製作しています。

## 評価基板

最終更新日現在、Nordic社から販売されている「nRF5340 DK」、および数点の周辺部材から成る評価基板を用意し、ファームウェア、デスクトップツールの制作に使用しています。<br>
nRF5340 DKについては下記リンクご参照<br>
https://www.nordicsemi.com/Products/Development-hardware/nrf5340-dk

<img src="images/BOARD_01.jpg" width="400">

### 特徴
- BLEペリフェラルデバイスとして動作
- 超小型TFTディスプレイを装備し、BLEペアリングのためのパスワード（６桁数字のパスコード）の参照が可能
- リアルタイムクロック・カレンダーモジュールを装備し、現在時刻の設定／参照が可能
- その他、LED3点（３色LED想定）、ボタン２点（タクトスイッチ想定）を装備
- USB接続についてはサポート無し

### 超小型TFTディスプレイ

評価基板では、FORMIKE製の超小型TFTディスプレイ「KWH009ST02-F01」を接続する前提としております。<br>
「KWH009ST02-F01」については下記リンクご参照<br>
https://www.wandisplay.com/jp/products/KWH009ST02-F01.html

<img src="images/BOARD_02.jpg" width="300">

#### 特色
- 外形寸法：`28`mm x `14`mm
- 表示領域：`21.7`mm x `10.8`mm（`0.96`inch）
- 白色バックライトLEDを装備
- 動作電圧：`2.75`V（`3.3V`までなら動作可能）
- 消費電力：`62mW`（`3.0`Vで動作時）
- SPI接続

#### 接続方法

FPCコネクター（8pin, 0.5mm pitch）が装備されているので、適宜変換基板、テストワイヤー等を使用し、nRF5340 DKの汎用I/O端子に接続します。<br>
TFT〜nRF5340基板間の配線は以下になります。

|TFT||nRF5基板|説明|
|:--|:--:|:--|:--|
|#1（LEDA）|<--|`P1.09`|LEDバックライト用電源[注1]|
|#2（GND）|<--|`GND`|0V|
|#3（RESET）|<--|`P1.11`|TFTのリセット|
|#4（D/C）|<--|`P1.10`|データ／コマンド切替え|
|#5（SDA）|<--|`P1.13`|データ入力|
|#6（SCL）|<--|`P1.15`|クロック入力|
|#7（VDD）|<--|`VDD`|動作電圧入力|
|#8（CS）|<--|`P1.12`|TFT通信開始|

<sup>
[注1] モジュール側（LEDA）側には、LEDバックライト用電源を入力しますが、nRF5340側はバックライトを点灯／消灯するロジック電圧（バックライト制御信号、low-active）を出力します。このため、実際に実装する基板には、制御信号によりLEDバックライト用電源をOn／Offするためのスイッチ回路が必要となります。
</sup>

## 製作中の基板

### [MDBT53 Slim Board](../../Hardwares/MDBT53SlimBoard)
Nordic社のSoC「nRF5340」を使用したBLEデバイスです。<br>
日本国内の技適取得済みであるnRF5340搭載モジュール「MDBT53」を使用します。<br>
小型ボタン乾電池（CR1225）で駆動し、BLEペリフェラルデバイスとして動作します。
